should render minimal configuration:
  1: |
    apiVersion: serving.knative.dev/v1
    kind: Service
    metadata:
      annotations:
        run.googleapis.com/launch-stage: BETA
      labels:
        cloud.googleapis.com/location: us-central1
      name: minimal-service
    spec:
      template:
        metadata:
          annotations:
            autoscaling.knative.dev/maxScale: "100"
            autoscaling.knative.dev/minScale: "0"
            run.googleapis.com/cpu-throttling: "true"
            run.googleapis.com/execution-environment: gen2
            run.googleapis.com/startup-cpu-boost: "false"
        spec:
          containerConcurrency: 80
          containers:
            - image: gcr.io/project/image
              ports:
                - containerPort: 8080
                  name: http1
              resources:
                limits:
                  cpu: "1"
                  memory: 512Mi
              startupProbe:
                failureThreshold: 3
                initialDelaySeconds: 0
                periodSeconds: 10
                tcpSocket:
                  port: 8080
                timeoutSeconds: 1
          timeoutSeconds: 300
should render with basic configuration:
  1: |
    apiVersion: serving.knative.dev/v1
    kind: Service
    metadata:
      annotations:
        run.googleapis.com/description: A basic service
        run.googleapis.com/launch-stage: BETA
      labels:
        cloud.googleapis.com/location: us-central1
      name: basic-service
    spec:
      template:
        metadata:
          annotations:
            autoscaling.knative.dev/maxScale: "100"
            autoscaling.knative.dev/minScale: "0"
            run.googleapis.com/cpu-throttling: "true"
            run.googleapis.com/execution-environment: gen2
            run.googleapis.com/startup-cpu-boost: "false"
          name: basic-v1
        spec:
          containerConcurrency: 80
          containers:
            - env:
                - name: ENV_VAR
                  value: value
              image: gcr.io/project/image:v1.0.0
              ports:
                - containerPort: 3000
                  name: http1
              resources:
                limits:
                  cpu: "2"
                  memory: 1Gi
              startupProbe:
                failureThreshold: 3
                initialDelaySeconds: 0
                periodSeconds: 10
                tcpSocket:
                  port: 3000
                timeoutSeconds: 1
          timeoutSeconds: 300
should render with network configuration:
  1: |
    apiVersion: serving.knative.dev/v1
    kind: Service
    metadata:
      annotations:
        run.googleapis.com/launch-stage: BETA
      labels:
        cloud.googleapis.com/location: us-central1
      name: networked-service
    spec:
      template:
        metadata:
          annotations:
            autoscaling.knative.dev/maxScale: "100"
            autoscaling.knative.dev/minScale: "0"
            run.googleapis.com/cpu-throttling: "true"
            run.googleapis.com/execution-environment: gen2
            run.googleapis.com/startup-cpu-boost: "false"
            run.googleapis.com/subnetwork: projects/my-project/regions/us-central1/subnetworks/my-subnet
            run.googleapis.com/vpc: projects/my-project/global/networks/my-vpc
            run.googleapis.com/vpc-access-egress: all-traffic
        spec:
          containerConcurrency: 80
          containers:
            - image: gcr.io/project/image@sha256:abc123
              ports:
                - containerPort: 8080
                  name: http1
              resources:
                limits:
                  cpu: "1"
                  memory: 512Mi
              startupProbe:
                failureThreshold: 3
                initialDelaySeconds: 0
                periodSeconds: 10
                tcpSocket:
                  port: 8080
                timeoutSeconds: 1
          timeoutSeconds: 300
